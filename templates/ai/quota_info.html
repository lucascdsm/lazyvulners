{% extends "base.html" %}

{% block title %}Limites da Cota Gratuita - AI Assistant{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2><i class="bi bi-exclamation-triangle me-2"></i>Limites da Cota Gratuita</h2>
                <a href="{{ url_for('main.ai_config') }}" class="btn btn-primary">
                    <i class="bi bi-gear me-1"></i>Voltar à Configuração
                </a>
            </div>

            <!-- Alerta Principal -->
            <div class="alert alert-warning">
                <h5><i class="bi bi-info-circle me-2"></i>Você atingiu o limite da cota gratuita!</h5>
                <p class="mb-0">
                    O Google AI Studio oferece uma cota gratuita limitada. Quando você atinge esse limite, 
                    precisa aguardar algumas horas para que a cota seja renovada.
                </p>
            </div>

            <!-- Informações sobre Limites -->
            <div class="row">
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="bi bi-clock me-2"></i>Limites da Cota Gratuita</h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Modelo</th>
                                            <th>Requisições por Minuto</th>
                                            <th>Requisições por Dia</th>
                                            <th>Tokens por Dia</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>Gemini Pro</strong></td>
                                            <td>15</td>
                                            <td>1,500</td>
                                            <td>32,000</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Gemini 1.5 Flash</strong></td>
                                            <td>15</td>
                                            <td>1,500</td>
                                            <td>32,000</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Gemini 1.5 Pro</strong></td>
                                            <td>2</td>
                                            <td>50</td>
                                            <td>32,000</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="mt-4">
                                <h6><i class="bi bi-lightbulb me-2"></i>Dicas para Otimizar o Uso:</h6>
                                <ul>
                                    <li><strong>Use descrições mais concisas</strong> - Menos tokens = mais requisições</li>
                                    <li><strong>Evite testes desnecessários</strong> - Cada teste consome cota</li>
                                    <li><strong>Use o AI apenas para vulnerabilidades complexas</strong></li>
                                    <li><strong>Configure horários de uso</strong> - Use em horários de menor demanda</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <!-- Status da Cota -->
                    <div class="card mb-4">
                        <div class="card-header">
                            <h6><i class="bi bi-graph-up me-2"></i>Status da Cota</h6>
                        </div>
                        <div class="card-body">
                            <div class="text-center">
                                <div class="spinner-border text-warning mb-3" role="status">
                                    <span class="visually-hidden">Aguardando...</span>
                                </div>
                                <h6 class="text-warning">Cota Excedida</h6>
                                <p class="small text-muted">
                                    A cota será renovada automaticamente em algumas horas.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Alternativas -->
                    <div class="card">
                        <div class="card-header">
                            <h6><i class="bi bi-arrow-right me-2"></i>Alternativas</h6>
                        </div>
                        <div class="card-body">
                            <div class="d-grid gap-2">
                                <a href="{{ url_for('main.vuln_create') }}" class="btn btn-outline-primary btn-sm">
                                    <i class="bi bi-plus-circle me-1"></i>Criar Vulnerabilidade Manual
                                </a>
                                <a href="{{ url_for('main.dashboard') }}" class="btn btn-outline-secondary btn-sm">
                                    <i class="bi bi-house me-1"></i>Voltar ao Dashboard
                                </a>
                                <a href="https://ai.google.dev/gemini-api/docs/rate-limits" target="_blank" class="btn btn-outline-info btn-sm">
                                    <i class="bi bi-external-link me-1"></i>Ver Documentação
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Soluções -->
            <div class="card mt-4">
                <div class="card-header">
                    <h5><i class="bi bi-tools me-2"></i>Soluções</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6><i class="bi bi-clock me-2"></i>Solução Imediata</h6>
                            <ul>
                                <li><strong>Aguarde algumas horas</strong> - A cota é renovada automaticamente</li>
                                <li><strong>Use o sistema manualmente</strong> - Preencha os campos sem AI</li>
                                <li><strong>Volte mais tarde</strong> - Tente novamente em algumas horas</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6><i class="bi bi-credit-card me-2"></i>Solução Definitiva</h6>
                            <ul>
                                <li><strong>Upgrade do plano</strong> - Considere um plano pago</li>
                                <li><strong>Múltiplas contas</strong> - Use diferentes API Keys</li>
                                <li><strong>Otimização de uso</strong> - Use o AI apenas quando necessário</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Links Úteis -->
            <div class="alert alert-light mt-4">
                <h6><i class="bi bi-link me-2"></i>Links Úteis</h6>
                <div class="d-flex flex-wrap gap-2">
                    <a href="https://ai.google.dev/gemini-api/docs/rate-limits" target="_blank" class="btn btn-outline-primary btn-sm">
                        <i class="bi bi-external-link me-1"></i>Documentação de Limites
                    </a>
                    <a href="https://aistudio.google.com/app/apikey" target="_blank" class="btn btn-outline-info btn-sm">
                        <i class="bi bi-key me-1"></i>Gerenciar API Keys
                    </a>
                    <a href="https://ai.google.dev/pricing" target="_blank" class="btn btn-outline-success btn-sm">
                        <i class="bi bi-credit-card me-1"></i>Preços e Planos
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
